<!DOCTYPE html>
<link rel="manifest" href="manifest.json">
<html lang="en">
<head><script type='text/javascript' src='https://ppl-ai-code-interpreter-files.s3.amazonaws.com/Q-xPb_j84tNxDMh3WatF4xi_Z5Baids40g3WItUoN_Wn2tVot9WbfosmwvKLXDk0BCufiN8Oaz-wtxldtMS0swNDrot8UmF-Z12b-HsAAtYlaWW0AkiTSYG8SbssByLCs00aW8Nte-Mm0iULFAdlaJBenR_Z5DLTWpdVG_9Rx4nVJ2VeKOP7K17A2p1JAsi3TmdaCJ67G9FK2kf6eVyWvSWpZ7zt8LTG1pteg08_nnbfCNfYQd8hw64v6jLljLpyOVofbLIzmLAmt1_4qCdxlUMtNqqBIe_GTBtlFjFtpjA8BVjuhyztZbyEWW9FzygSFJc3bUxHhyc6NUrSNfwEuMgG40s32ZvPlUZdirmOdh5JIUVS0DH0cApE3xsVYI1LaY9fMLM5-_lOD3VEzXIvOKgCARgcwUvUnOM09F3dk1wT-TUN2yAlxVB0nQAbFVZyrvEK4Wl4c4LleoVKyVgbqyYTHVYdLzBkqrAqA_jTZJIk98FlfZFoisA47eGB56fDAhix10PFvn-5vgAydUsC2Z0rOUzXYKP0yw_Mh3Yc_PzypbcTE6YSE8Nm52GEnTGKhSsv3i8Iv9gw2zAeAPQRzoCZluv3A2ZDxDg5Lo566rmaXsLUOJT6i07FwuJIjbQh5rDRQnXi3heFUfRNQOqxAAUmKe4FQhKPENPi0zme43_dxK7xJKA_uau-X_9HeEO2jVmiWr1kRJqLtpt5DZu5JNRVnQdDBgOJvAEbvQ0pHIHkUbU5K025qPp1It4Gd6TM0VR4tId_dkahgNpy0Kxo2awpv8lQg6MjdQOPf-tJvSiQTQmzbO5PyVGqNuUneIU1DMqVVCtDvN4rqfilwwdF6tUZEoW5ZO1Mn_fxv5Z5wf56ndIftiA9dh_NhOh8cqYUQ-Yaz0GXigp7HtQ7JkDqLhgeevG_kg575iN_JENd9njyyFTjiXMqhqJw37oNgoO-1RaezimdcW4sg47iK1hKbiYXDWpRPY1c67Vehk01YBCsWWz4Xamy-N0BNp2JhzIBFpkKhJgcrT5MGiOozdD3yEmy24DJ-9x4s6D1rLJA1jTvdT12NtGcug2e9HtQvUy6msCvrrkIZ-BkidI9fGnEkDcvjE052arsAr4JI2YooGnhdo-4A2TtIv-cI46X6K8UAENMJ_DbdMAjzhfBM0zzvrzPY63vnbkRV_CuQWsxpT_FuVuODz0hplMzfbCFadLc7oN3EyTVJrzthgoK0FPYiIDvxWDmeAZk2086gWZurkK4RqL6gdKLpmKGxxIWelbar7XNYfR2LgVjqYemvUJatpBGUQFtKMWJ5Lh6EGCKUCPF76w1QJ7nGdWzFAuCFPB2I-Ihx1hJw5vqltX09EYdE-OOXI_FA3Cksc1D6Nn9kaDnLNKlAUQa5gwoeu8FaishHid_l1yNceMPkTIW2MLWbc61A8utB0cMJLzLHH8Ju95gPqCZK4jcLd3DUAZqNSgoY_YVFieTJuwvqI92-1-98w8AE0N73Yz7ktWgb7vc-S2tVmjOuy86ZhVfngZkIZddbayM0olIlgqtAnzxCaC1bFZpAPgA3eW8HuIFii-mlViXRUbJdSf_2IOxljyHrHSSHnxG-ZcX4DxyGvfktDFePMILvyDMyMFpDgNMn2z8mRt_7le7KWAYC03nQDU6xNxB-rmm37fCSwk4MWTrBUNvrdXRdTpDH2G1MdAifYiyucFSsCfvmxcNUZ2mEkd4CId8ynMHCmSJfMFptH6tV_FsBvFqR5f7FJlYrIlEDwhH2c91PxTE0r7bM-M5wZ68XT8KCnAEoOer9CV54Zqr3wuQC5ab4FjCoddOL47zMTthljzn6Bq5Uj7kmKlA2nK5GU5OQG7RjijxED7ZxG_H_1AC-ABGmwOZhA8ELQsfNVQ4tJVc0q3TOQtICNqpWXnDo_kmlVts5CRXQhdiDo-4oZ_jKFubfBoVhmmLFwafu7SOK3lI37sV13aG39D_95YDKPYuS7oVwUoRKxuLTWe1I1yzvLvDpTLM7jTcl4Lj-q58TA7Duu-i133aKNtLH60k2IVBPEYom7XPxbvq5K8STlhayl8uhDiDsGCamJ3nmZOpl0PdaHJzCmELVD7ERv4sKA6g5UeYwftme0zWi1wWUZpGk57YTJJgnArgKtli5lCUKqGVsd6L_cJGaM-wuAW8rWE6NDtOGgZVvoz4jYVVvvICZuU7J2s2p0ynMY-Gl5r_Tdn7CoUftuk8vQdBuWjTkoA0aCJyQtghc2KHyrmRBDggbe8ElikDZ7v__iuZ6GPWiTmraQoVLIjDLZ8H0LySMGK28HuxOC85OAWQ10EzBcgXROvqT62jpJoEqS7Rm8eKaDxqf_POI7Bs7R7VnVSfJYgvv6Ic06R2jTqrD120-KtKK3anbRiLs033kC9xwtLspDIE-JgWi_sFxGMFrmmG6VCOaK4ae5nBmwRjs-AiS8Ix0z6oUwafrKg_eswIMZFbf-O_r6Kch6GNoXb0Vn1fk8AGzHj__1Mgke4unZIqSu9kt9h2uIduN_Tas7hdkX_k13gRPvbkzWJl1OMGDpnb1qfwynFPl246oxmcvt7xjDqAM8cIGg8C3Iz3GDcLL6S3Y7PuXLw8DxJnsq6BJlKbN6nX3gf_4CY-JhUWi2IIS4dVtAVSfxhHm2Rz72eL1aSW0_LP1q1mEp9LpvcYR8OoGCjDL0D9avciqko'></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Multiplication Tables</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Arial Rounded MT Bold', Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            transition: background 0.5s ease;
            cursor: pointer;
            user-select: none;
        }

        .bg-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 0;
            transition: background 0.5s ease;
        }

        .main-container {
            position: relative;
            z-index: 2;
            width: 100%;
            max-width: 480px;
            padding: 4px 14px 4px 14px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            height: 100vh;
        }

        .progress-badge {
            background: rgba(0,0,0,0.25);
            color: white;
            padding: 4px 14px;
            border-radius: 20px;
            font-size: clamp(12px, 3vw, 15px);
            font-weight: bold;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.4);
            flex-shrink: 0;
            margin-top: 4px;
        }

        /* NEW: table navigation */
        .table-nav {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-shrink: 0;
        }

        .nav-btn {
            appearance: none;
            border: none;
            background: rgba(0,0,0,0.22);
            color: white;
            font-weight: 900;
            border-radius: 16px;
            padding: 8px 10px;
            font-size: 14px;
            letter-spacing: 0.2px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.15);
        }

        .nav-btn:active {
            transform: scale(0.98);
        }

        .table-picker {
            flex: 1;
            max-width: 220px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            background: rgba(255,255,255,0.18);
            border-radius: 16px;
            padding: 6px 10px;
        }

        .table-picker label {
            color: rgba(255,255,255,0.95);
            font-weight: 900;
            font-size: 13px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.25);
            white-space: nowrap;
        }

        select {
            width: 100%;
            border: none;
            border-radius: 12px;
            padding: 8px 10px;
            background: rgba(255,255,255,0.92);
            font-weight: 900;
            color: #333;
            font-size: 14px;
            outline: none;
        }

        .question-card {
            background: rgba(255,255,255,0.25);
            backdrop-filter: blur(8px);
            border-radius: 20px;
            padding: 8px 24px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.15);
            width: 100%;
            flex-shrink: 0;
        }

        .question-text {
            font-size: clamp(24px, 8vw, 44px);
            font-weight: 900;
            color: white;
            text-shadow: 2px 3px 6px rgba(0,0,0,0.3);
            line-height: 1.1;
        }

        .answer-text {
            font-size: clamp(36px, 12vw, 66px);
            font-weight: 900;
            color: #FFE600;
            text-shadow: 3px 4px 8px rgba(0,0,0,0.3);
            line-height: 1;
        }

        /* Visual section fills ALL remaining space */
        .visual-section {
            background: rgba(255,255,255,0.2);
            border-radius: 18px;
            padding: 6px 10px;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-evenly;
            overflow: hidden;
            min-height: 0;
        }

        .group-row {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 1px;
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            padding: 3px 6px;
            width: 100%;
            flex: 1;
            min-height: 0;
        }

        .emoji-item {
            line-height: 1;
        }

        .tap-hint {
            color: rgba(255,255,255,0.9);
            font-size: clamp(12px, 3.5vw, 17px);
            font-weight: bold;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
            animation: pulse 1.5s ease-in-out infinite;
            letter-spacing: 1px;
            flex-shrink: 0;
            padding-bottom: 4px;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(0.97); }
        }

        /* CONFETTI */
        .confetti-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 10;
            overflow: hidden;
        }

        .confetti-piece {
            position: absolute;
            top: -20px;
            animation: confettiFall linear forwards;
            border-radius: 2px;
        }

        @keyframes confettiFall {
            0% { transform: translateY(0) rotate(0deg) translateX(0); opacity: 1; }
            80% { opacity: 1; }
            100% { transform: translateY(110vh) rotate(720deg) translateX(var(--drift)); opacity: 0; }
        }

        /* BUTTERFLIES */
        .butterfly-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9;
            overflow: hidden;
        }

        .butterfly {
            position: absolute;
            animation: butterflyFly linear forwards;
        }

        @keyframes butterflyFly {
            0%   { transform: translate(0, 0) rotate(0deg) scale(0.8); opacity: 0; }
            10%  { opacity: 1; }
            50%  { transform: translate(var(--mid-x), var(--mid-y)) rotate(20deg) scale(1.1); }
            90%  { opacity: 1; }
            100% { transform: translate(var(--end-x), var(--end-y)) rotate(-10deg) scale(0.8); opacity: 0; }
        }

        /* CELEBRATION OVERLAY */
        .celebration-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            z-index: 20;
            background: rgba(255,255,255,0.95);
            border-radius: 24px;
            padding: 18px 32px;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: celebrationPop 0.5s ease forwards;
            pointer-events: none;
            width: 80%;
            max-width: 320px;
        }

        .celebration-text h2 {
            font-size: clamp(20px, 6vw, 32px);
            font-weight: 900;
            background: linear-gradient(135deg, #FF6B6B, #FFE66D, #4ECDC4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .celebration-text p {
            font-size: clamp(13px, 3.5vw, 17px);
            color: #555;
            margin-top: 5px;
        }

        @keyframes celebrationPop {
            0%   { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            60%  { transform: translate(-50%, -50%) scale(1.08); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        @media (max-height: 650px) {
            .nav-btn { padding: 6px 8px; }
            .table-picker { padding: 5px 8px; }
            select { padding: 6px 8px; }
            .question-card { padding: 8px 18px; }
        }
    </style>
</head>
<body>

<div class="bg-overlay" id="bgOverlay"></div>
<div class="confetti-container" id="confettiContainer"></div>
<div class="butterfly-container" id="butterflyContainer"></div>

<div class="main-container" id="mainContainer">
    <div class="progress-badge" id="progressBadge">Table 2 of 20</div>

    <!-- NEW: navigation to jump/skip tables -->
    <div class="table-nav" id="tableNav">
        <button class="nav-btn" id="prevTableBtn" type="button">◀</button>
        <div class="table-picker">
            <label for="tableSelect">Table</label>
            <select id="tableSelect" aria-label="Choose table">
                <!-- filled by JS -->
            </select>
        </div>
        <button class="nav-btn" id="nextTableBtn" type="button">▶</button>
    </div>

    <div class="question-card">
        <div class="question-text" id="questionText">2 &times; 1 = ?</div>
        <div class="answer-text" id="answerText">2</div>
    </div>

    <div class="visual-section" id="visualSection"></div>

    <div class="tap-hint" id="tapHint">&#128077; Tap anywhere to continue!</div>
</div>

<script>
    let table = 2, multiplier = 1;
    let celebrating = false;

    const themes = [
        ['#FF6B6B','#FF8E53'],
        ['#4ECDC4','#44A08D'],
        ['#FFE66D','#F7971E'],
        ['#A8EDEA','#FED6E3'],
        ['#6C5CE7','#A29BFE'],
        ['#FD79A8','#E84393'],
        ['#00B4D8','#0077B6'],
        ['#55EFC4','#00B894'],
        ['#FDCB6E','#E17055'],
        ['#74B9FF','#0984E3'],
        ['#FF7675','#D63031'],
        ['#A29BFE','#6C5CE7'],
        ['#55EFC4','#00CEC9'],
        ['#FFEAA7','#FDCB6E'],
        ['#FD79A8','#6C5CE7'],
        ['#00CEC9','#00B894'],
        ['#E17055','#D63031'],
        ['#74B9FF','#A29BFE'],
        ['#6C5CE7','#FD79A8'],
    ];

    const emojis = [
        '&#127822;', // apple
        '&#127818;', // orange
        '&#127819;', // lemon
        '&#127820;', // melon
        '&#127815;', // watermelon
        '&#127827;', // strawberry
        '&#127826;', // cherries
        '&#127828;', // peach
        '&#127821;', // banana
        '&#127825;', // grapes
        '&#11088;',  // star
        '&#128149;', // heart
        '&#127880;', // balloon
        '&#127381;', // diamond
        '&#128053;', // monkey
        '&#128055;', // cow
        '&#128056;', // frog
        '&#128048;', // rabbit
        '&#128049;', // cat
    ];

    const butterflies = ['&#129419;','&#129418;','&#128035;','&#128036;'];
    const confettiColors = ['#FF6B6B','#FFE66D','#4ECDC4','#FD79A8','#6C5CE7','#FFAA00','#00D2FF','#7BED9F','#FF8C94','#74B9FF'];

    function themeIndex() { return table - 2; }
    function currentEmoji() { return emojis[themeIndex()]; }
    function currentTheme() { return themes[themeIndex()]; }

    function setBackground() {
        const [c1, c2] = currentTheme();
        const grad = `linear-gradient(135deg, ${c1} 0%, ${c2} 100%)`;
        document.getElementById('bgOverlay').style.background = grad;
        document.body.style.background = grad;
    }

    function updateDisplay() {
        const result = table * multiplier;
        document.getElementById('progressBadge').textContent = `Table ${table} of 20`;
        document.getElementById('questionText').innerHTML = `${table} &times; ${multiplier} = ?`;
        document.getElementById('answerText').textContent = result;
        setBackground();
        syncPicker();
        renderVisuals();
    }

    function renderVisuals() {
        const container = document.getElementById('visualSection');
        container.innerHTML = '';
        const emoji = currentEmoji();

        const totalItems = table * multiplier;
        let emojiSize;
        if (totalItems <= 20)       emojiSize = 'clamp(20px, 5.5vw, 28px)';
        else if (totalItems <= 50)  emojiSize = 'clamp(16px, 4.5vw, 22px)';
        else if (totalItems <= 100) emojiSize = 'clamp(13px, 3.5vw, 18px)';
        else                        emojiSize = 'clamp(11px, 2.8vw, 14px)';

        for (let g = 0; g < multiplier; g++) {
            const row = document.createElement('div');
            row.className = 'group-row';

            const itemsToShow = Math.min(table, 20);
            for (let i = 0; i < itemsToShow; i++) {
                const span = document.createElement('span');
                span.className = 'emoji-item';
                span.innerHTML = emoji;
                span.style.fontSize = emojiSize;
                row.appendChild(span);
            }

            container.appendChild(row);
        }
    }

    function launchConfetti() {
        const container = document.getElementById('confettiContainer');
        container.innerHTML = '';
        for (let i = 0; i < 80; i++) {
            const piece = document.createElement('div');
            piece.className = 'confetti-piece';
            const color = confettiColors[Math.floor(Math.random() * confettiColors.length)];
            const left = Math.random() * 100;
            const duration = 1.8 + Math.random() * 1.5;
            const delay = Math.random() * 0.8;
            const drift = (Math.random() - 0.5) * 200;
            const size = 8 + Math.random() * 10;
            piece.style.cssText = `
                left:${left}%;
                background:${color};
                width:${size}px; height:${size}px;
                animation-duration:${duration}s;
                animation-delay:${delay}s;
                --drift:${drift}px;
                border-radius:${Math.random() > 0.5 ? '50%' : '2px'};
            `;
            container.appendChild(piece);
            piece.addEventListener('animationend', () => piece.remove());
        }
    }

    function launchButterflies() {
        const container = document.getElementById('butterflyContainer');
        container.innerHTML = '';
        const count = 8 + Math.floor(Math.random() * 6);
        for (let i = 0; i < count; i++) {
            const b = document.createElement('div');
            b.className = 'butterfly';
            b.innerHTML = butterflies[Math.floor(Math.random() * butterflies.length)];
            const startX = Math.random() * window.innerWidth;
            const startY = window.innerHeight + 30;
            const endX = (Math.random() - 0.5) * window.innerWidth * 2;
            const endY = -window.innerHeight - 30;
            const midX = (Math.random() - 0.5) * 200;
            const midY = -(window.innerHeight / 2);
            const duration = 2.5 + Math.random() * 2;
            const delay = Math.random() * 1.2;
            b.style.cssText = `
                left:${startX}px; top:${startY}px;
                font-size:${24 + Math.floor(Math.random()*16)}px;
                animation-duration:${duration}s;
                animation-delay:${delay}s;
                --mid-x:${midX}px; --mid-y:${midY}px;
                --end-x:${endX}px; --end-y:${endY}px;
            `;
            container.appendChild(b);
            b.addEventListener('animationend', () => b.remove());
        }
    }

    function showCelebration(tableNum) {
        const old = document.getElementById('celebrationText');
        if (old) old.remove();
        const div = document.createElement('div');
        div.className = 'celebration-text';
        div.id = 'celebrationText';
        const msgs = ['Amazing!','Brilliant!','Fantastic!','Superstar!','Wow!','You rock!'];
        const msg = msgs[Math.floor(Math.random() * msgs.length)];
        div.innerHTML = `<h2>&#127881; ${msg} &#127881;</h2><p>Table ${tableNum} complete!</p>`;
        document.body.appendChild(div);
        setTimeout(() => { if (div.parentNode) div.remove(); }, 2200);
    }

    function jumpToTable(newTable) {
        if (celebrating) return;
        table = Math.max(2, Math.min(20, newTable));
        multiplier = 1;
        updateDisplay();
    }

    function syncPicker() {
        const sel = document.getElementById('tableSelect');
        if (sel && String(sel.value) !== String(table)) sel.value = String(table);
    }

    function handleTap() {
        if (celebrating) return;

        if (multiplier === 10) {
            celebrating = true;
            launchConfetti();
            launchButterflies();
            showCelebration(table);

            setTimeout(() => {
                celebrating = false;
                if (table < 20) { table++; multiplier = 1; }
                else             { table = 2; multiplier = 1; }
                updateDisplay();
            }, 2500);
        } else {
            multiplier++;
            updateDisplay();
        }
    }

    // Prevent buttons/select from also triggering the page tap
    function stopTap(e) {
        e.preventDefault();
        e.stopPropagation();
    }

    document.getElementById('prevTableBtn').addEventListener('click', (e) => {
        stopTap(e);
        jumpToTable(table - 1);
    });

    document.getElementById('nextTableBtn').addEventListener('click', (e) => {
        stopTap(e);
        jumpToTable(table + 1);
    });

    const tableSelect = document.getElementById('tableSelect');
    // Populate options 2..20
    for (let t = 2; t <= 20; t++) {
        const opt = document.createElement('option');
        opt.value = String(t);
        opt.textContent = String(t);
        tableSelect.appendChild(opt);
    }

    tableSelect.addEventListener('click', stopTap);
    tableSelect.addEventListener('touchstart', stopTap, { passive: false });
    tableSelect.addEventListener('change', (e) => {
        stopTap(e);
        jumpToTable(parseInt(tableSelect.value, 10));
    });

    document.body.addEventListener('click', handleTap);
    document.body.addEventListener('touchstart', (e) => {
        // If the touch started on a control, ignore.
        const target = e.target;
        const isControl = target && (target.closest && target.closest('#tableNav'));
        if (isControl) return;
        e.preventDefault();
        handleTap();
    }, { passive: false });

    updateDisplay();
</script>
</body>
</html>